# 前后台数据流转
## 背景
软件的本质，无非就是两点：进，将数据从前台传递到后台保存到数据库；出，将数据从数据库查询查来展示到前台。
在实际的需求中，我们肯定要对数据流转的过程进行干预，消除一些可能带来的风险和麻烦，我们简单的先列出几个风险：
- xss注入
- sql注入
- 含空格数据导致数据重复
- 枚举的转换
- %号的麻烦
## xss注入
script标签。。待定
## sql注入
待定，严格实现预处理，应该可以避免
## 含空格数据导致数据重复
这里说的数据重复，并不是严格意义上的数据重复，而是因为，两个类似的名字，因为其中一个名字包含空格，导致的视觉上的错误认识，
举个例子，我们要添加一个港口，港口名字不能重复，我们添加了第一个数据A叫"秦皇岛港"，第二个数据B叫"秦皇岛 "，两条数据从技术角度上来说，
属于两条不一样的数据，并不重复。但是前台展示的时候，业务人员是无法进行分辨，假如部分业务人员将业务绑定到数据A，部分人员将数据绑定到数据B
上，那就会产生业务上的BUG。所以为了避免这种不必要的麻烦，我们将所有的数据，入参时候进行trim操作。当然有的数据是需要含有前后空格的，比如
富文本编辑器，他们的内容就有空格，这时候建议是前端将空格提前转换成"%20"，毕竟大部分数据是需要trim掉的。
这里有两种情况，一种是get请求，参数在url后面，我们需要修改SpringMvc的Converter，还有一种是存在Body中的，这种我们全部使用Jackson的序列化进行处理
## 枚举转换
。。
## %查询
如果查询中有like，我们没有正确处理传递进来的%， 最后导致 like %%这种语句执行的话，会导致全表扫描，大数据量的表可能会崩溃，引起一连串的问题。
